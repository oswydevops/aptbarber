{% extends "base.html" %}
{% block title %}Editar Servicio{% endblock %}

{% block content %}
<div class="admin-dashboard">
    <div class="container" style="padding: 8rem 2rem 6rem; max-width: 900px; margin:0 auto;">

        <div class="text-center mb-10">
            <h1 class="admin-title" style="font-size:4rem;">Editar Servicio</h1>
        </div>

        <div class="admin-card">
            <form method="POST" action="{{ url_for('admin.editar_servicio', servicio_id=servicio.id) }}" class="admin-form validate-form admin-grid-4">

                <div style="margin-bottom:1.3rem;">
                    <label class="field-label">Nombre del servicio</label>
                    <input type="text" name="nombre" value="{{ servicio.nombre }}" required class="input-field">
                </div>

                <div style="margin-bottom:1.3rem;">
                    <label class="field-label">Precio</label>
                    <input type="text" name="precio" value="{{ servicio.precio }}" required class="input-field">
                </div>

                <div style="margin-bottom:1.3rem;">
                    <label class="field-label">Descripción (opcional)</label>
                    <textarea name="descripcion" rows="4" class="input-field">{{ servicio.descripcion or '' }}</textarea>
                </div>

                <div style="margin-bottom:1.8rem;">
                    <label class="field-label">Categoría</label>
                    <select name="categoria" class="input-field">
                        <option value="corte" {% if servicio.categoria == "corte" %}selected{% endif %}>Tipos de Cortes</option>
                        <option value="extra" {% if servicio.categoria == "extra" %}selected{% endif %}>Servicios Extras</option>
                    </select>
                </div>

                <div style="display:flex; gap:1rem; justify-content:center;">
                    <button type="submit" class="btn-primary">Guardar Cambios</button>
                    <a href="{{ url_for('admin.dashboard') }}" class="btn-secondary">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>

.nav-desktop { display: none !important; }
.header-inner { justify-content: space-between !important ; }
.hamburger { display: none !important; }

.admin-dashboard { background:#0a0a0a; min-height:100vh; color:white; display: contents;}
.admin-title { 
    font:900 4rem 'Satoshi',sans-serif; 
    background: linear-gradient(90deg, #fff, var(--accent));
    -webkit-background-clip:text; 
    -webkit-text-fill-color:transparent; 
    margin-left: -170px;
    margin-top: -1rem;
}



.admin-card { 
    background:rgba(26,26,26,0.7); 
    border:1px solid #333; 
    border-radius:18px; 
    height: 20rem;
    width: 100rem;
    padding: 3rem 4rem;
    margin-bottom: 3rem;
    margin-left: -175px;
    margin-top: 1rem;
}

.admin-grid-4 {
    display:grid;
    grid-template-columns:repeat(1,1fr);
    gap:10px;
    justify-items: center;
    align-items: center;
}
@media(min-width:640px){
    .admin-grid-4 { grid-template-columns:repeat(4,1fr); }
}
@media(min-width:1024px){
    .admin-grid-4 { grid-template-columns:repeat(4,1fr); }
}
.full-row { grid-column:1/-1; }


.field-label { 
    display:block; 
    margin-bottom:0.6rem; 
    font-size:1.1rem; 
    color:white; 
    font-weight:600;
    margin-left: 2px;
}

.input-field { 
    padding:1rem 1.3rem; 
    background:#111; 
    border:1px solid #333; 
    border-radius:14px; 
    color:white; 
    font-size:1.05rem; 
    width: 200px;
    
}
.input-field:focus { 
    outline:none; 
    border-color:#8b8a85; 
    box-shadow:0 0 0 5px rgba(212,175,55,.18); 
    background:#161616; 
}

.btn-primary { 
    background:linear-gradient(135deg,#d4af37,#ffb347); 
    color:black; 
    padding:1.1rem 3rem; 
    border:none; 
    border-radius:50px; 
    font-weight:700; 
    font-size:1rem; 
    cursor:pointer;   
}

.btn-primary:hover { 
    transform:translateY(-2px); 
}

.btn-secondary { 
    background:#222; 
    color:#d4af37; 
    padding:1.1rem 2.5rem; 
    border:1px solid #444; 
    border-radius:50px; 
    text-decoration:none; 
    font-weight:700; 
}
.btn-secondary:hover { 
    background:#333; 
    border-color:#d4af37; 
}

/* ELIMINA EL SUBRAYADO DE TODOS LOS ENLACES DENTRO DEL PANEL */
.admin-dashboard a,
.admin-card a,
.service-card a {
    text-decoration: none !important;
}

/* Responsive edit */
@media (max-width: 768px) {
    .container { padding: 6rem 1rem 4rem; }
    .admin-title { font-size: 3.5rem; }
    .admin-card { padding: 2rem; }
    .btn-primary, .btn-secondary { padding: 1rem 2rem; font-size: 0.95rem; }
}

@media (max-width: 480px) {
    .admin-title { font-size: 3rem; }
    .admin-card { padding: 1.5rem; }
    .field-label { font-size: 1rem; }
    .input-field { padding: 0.9rem; font-size: 0.95rem; }
    .btn-primary, .btn-secondary { padding: 0.9rem 1.5rem; font-size: 0.9rem; }
    div[style*="display:flex"] { flex-direction: column; gap: 0.5rem; }
}

@media (max-width: 320px) {
    .admin-title { font-size: 2.5rem; }
    .admin-card { padding: 1rem; }
}

.admin-header-right { 
    font-size: 1.25rem;
    color: white; 
    text-decoration: none !important;
    
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const right = document.createElement('div');
        right.className = 'admin-header-right';
        right.innerHTML = `
            <a href="{{ url_for('admin.dashboard') }}">Volver atrás</a>
        `;
        document.querySelector('.header-inner').appendChild(right);
    });
</script>
{% endblock %}